{
  "docker-compose.yml": "version: '3.8'\n\nservices:\n  frontend:\n    build:\n      context: ./frontend\n      dockerfile: Dockerfile\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - ./frontend:/app\n      - /app/node_modules # Prevent host node_modules from overwriting container's\n    environment:\n      # This URL allows the frontend to communicate with the backend service within the Docker network\n      NEXT_PUBLIC_BACKEND_URL: http://backend:8000/api/v1\n    depends_on:\n      - backend\n    # For Next.js development, 'npm run dev' is typical\n    command: npm run dev\n\n  backend:\n    build:\n      context: ./backend\n      dockerfile: Dockerfile\n    ports:\n      - \"8000:8000\"\n    volumes:\n      - ./backend:/app\n    environment:\n      # Database connection string for FastAPI\n      DATABASE_URL: postgresql://user:password@db:5432/mydatabase\n    depends_on:\n      - db\n    # For FastAPI development, uvicorn with reload is typical\n    command: uvicorn main:app --host 0.0.0.0 --port 8000 --reload\n\n  db:\n    image: postgres:13-alpine\n    environment:\n      POSTGRES_DB: mydatabase\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - db_data:/var/lib/postgresql/data\n    ports:\n      - \"5432:5432\" # Optional: Expose for direct host access (e.g., for database tools)\n\nvolumes:\n  db_data:\n",
  "frontend/Dockerfile": "# Use a lightweight Node.js image\nFROM node:18-alpine\n\n# Set the working directory inside the container\nWORKDIR /app\n\n# Copy package.json and package-lock.json (or yarn.lock)\n# to leverage Docker cache for dependencies\nCOPY package*.json ./\n\n# Install dependencies\nRUN npm install\n\n# Copy the rest of the application code\nCOPY . .\n\n# Expose the port Next.js runs on\nEXPOSE 3000\n\n# Command to run the application in development mode\n# This will be overridden by docker-compose.yml's 'command' for development\nCMD [\"npm\", \"run\", \"dev\"]\n",
  "backend/Dockerfile": "# Use a lightweight Python image\nFROM python:3.9-slim-buster\n\n# Set the working directory inside the container\nWORKDIR /app\n\n# Copy requirements.txt to leverage Docker cache for dependencies\nCOPY requirements.txt ./\n\n# Install Python dependencies\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy the rest of the application code\nCOPY . .\n\n# Expose the port FastAPI runs on\nEXPOSE 8000\n\n# Command to run the FastAPI application in development mode with auto-reload\n# This will be overridden by docker-compose.yml's 'command' for development\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\", \"--reload\"]\n"
}